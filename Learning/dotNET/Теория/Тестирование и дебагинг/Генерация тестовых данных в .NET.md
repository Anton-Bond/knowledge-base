–ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–∞–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –í .NET –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ö–æ–¥–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

## **1Ô∏è‚É£ –ü–æ–¥—Ö–æ–¥—ã –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

üîπ **–†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** ‚Äì –ø—Ä–æ—Å—Ç–µ–π—à–∏–π —Å–ø–æ—Å–æ–±, –Ω–æ –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è.  
üîπ **–§–∏–∫—Å—Ç—É—Ä—ã (Fixtures)** ‚Äì –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–æ–≤.  
üîπ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** ‚Äì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤.  
üîπ **–§–µ–π–∫–æ–≤—ã–µ (Mock) –¥–∞–Ω–Ω—ã–µ** ‚Äì –∏–º–∏—Ç–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é Moq/NSubstitute.  
üîπ **Seed-–¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ** ‚Äì –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏, –æ—á–∏—â–∞—é—Ç—Å—è –ø–æ—Å–ª–µ.

---

## **2Ô∏è‚É£ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

### **üìå 1. Bogus** (—Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π)

üìå **GitHub**: [Bogus](https://github.com/bchavez/Bogus)  
üìå **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**:

```shell
dotnet add package Bogus
```

üìå **–ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**:

```csharp
using Bogus;

var faker = new Faker<User>()
    .RuleFor(u => u.Id, f => f.Random.Guid())
    .RuleFor(u => u.Name, f => f.Name.FullName())
    .RuleFor(u => u.Email, f => f.Internet.Email())
    .RuleFor(u => u.Age, f => f.Random.Int(18, 60));

var user = faker.Generate();
Console.WriteLine($"{user.Name}, {user.Email}, {user.Age}");
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (–∏–º–µ–Ω–∞, –∞–¥—Ä–µ—Å–∞, email, –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç).  
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—Å—Å–∫–∏–º —è–∑—ã–∫–æ–º:

```csharp
var faker = new Faker<User>("ru");
```

---

### **üìå 2. AutoFixture** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤)

üìå **GitHub**: [AutoFixture](https://github.com/AutoFixture/AutoFixture)  
üìå **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**:

```shell
dotnet add package AutoFixture
```

üìå **–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:

```csharp
using AutoFixture;

var fixture = new Fixture();
var user = fixture.Create<User>();

Console.WriteLine($"{user.Name}, {user.Email}");
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞.  
‚úÖ –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å xUnit/NUnit/MSTest.  
‚úÖ –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å Moq (AutoMoq).

---

### **üìå 3. Faker.NET (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Bogus)**

üìå **GitHub**: [Faker.NET](https://github.com/oriches/faker-cs)  
üìå **–ü—Ä–∏–º–µ—Ä**:

```csharp
var name = Faker.Name.First();
var email = Faker.Internet.Email();
```

**–ü–ª—é—Å—ã:**  
‚úî –ü—Ä–æ—Å—Ç–æ—Ç–∞  
‚úî –•–æ—Ä–æ—à –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤

---

## **3Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

### **üìå 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `HasData()` –≤ EF Core**

```csharp
modelBuilder.Entity<User>().HasData(new User { Id = 1, Name = "–ò–≤–∞–Ω", Age = 25 });
```

üìå –î–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –º–∏–≥—Ä–∞—Ü–∏–∏.

### **üìå 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Respawn –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –±–∞–∑—ã –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤**

üìå **GitHub**: [Respawn](https://github.com/jbogard/Respawn)  
üìå **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏**:

```csharp
await checkpoint.Reset(databaseConnectionString);
```

---
### **üìå –ú–æ–∫–∏–Ω–≥ (Mocking) –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ .NET**

**–ú–æ–∫–∏–Ω–≥** ‚Äì —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞ –≤ –º–æ–¥—É–ª—å–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–≥–ª—É—à–∫–∞–º–∏ (mock-–æ–±—ä–µ–∫—Ç–∞–º–∏). –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, API –∏ –¥—Ä—É–≥–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

---

## **1Ô∏è‚É£ –ú–æ–∫-–æ–±—ä–µ–∫—Ç—ã ‚Äì —á—Ç–æ —ç—Ç–æ?**

–ú–æ–∫-–æ–±—ä–µ–∫—Ç (Mock) ‚Äì —ç—Ç–æ –ø–æ–¥–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏–º–∏—Ç–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –µ–≥–æ –ª–æ–≥–∏–∫–∏. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –≤–µ–¥–µ—Ç —Å–µ–±—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞:  
‚úî –ù—É–∂–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–¥.  
‚úî –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ë–î, API –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã.  
‚úî –ù—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–æ—à–∏–±–∫–∏, –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è).

---

## **2Ô∏è‚É£ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –º–æ–∫–∏–Ω–≥–∞**

–í .NET —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

- **Moq** ‚Äì –º–æ—â–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å Fluent API.
- **NSubstitute** ‚Äì –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π –∏ –ø—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.

---

## **3Ô∏è‚É£ Moq ‚Äì –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

üìå **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**

```shell
dotnet add package Moq
```

üìå **–ü—Ä–∏–º–µ—Ä (Fluent API)**:

```csharp
using Moq;

public interface IService
{
    int GetNumber();
}

var mock = new Mock<IService>();
mock.Setup(m => m.GetNumber()).Returns(42);

Console.WriteLine(mock.Object.GetNumber()); // 42
```

### **üìå –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Moq?**

‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤.  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–≥—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–æ–≤–µ–¥–µ–Ω–∏—è (Verify, Setup).  
‚úÖ –•–æ—Ä–æ—à –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API, –ë–î-–∑–∞–ø—Ä–æ—Å–æ–≤, –∫—ç—à–∞.

---

## **4Ô∏è‚É£ NSubstitute ‚Äì –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å**

üìå **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**

```shell
dotnet add package NSubstitute
```

üìå **–ü—Ä–∏–º–µ—Ä:**

```csharp
using NSubstitute;

public interface IService
{
    int GetNumber();
}

var service = Substitute.For<IService>();
service.GetNumber().Returns(42);

Console.WriteLine(service.GetNumber()); // 42
```

### **üìå –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NSubstitute?**

‚úÖ –ö–æ–¥ –ø—Ä–æ—â–µ –∏ –∫–æ—Ä–æ—á–µ, —á–µ–º –≤ Moq.  
‚úÖ –•–æ—Ä–æ—à –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ-–∑–∞–≥–ª—É—à–∫–∏ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

## **5Ô∏è‚É£ –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –º–æ–∫–∏–Ω–≥–∞**

‚ùå **–ú–∞–∫—Å–∏–º—É–º 7 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –∫–ª–∞—Å—Å–µ** ‚Äì –∏–Ω–∞—á–µ –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω—ã–º.  
‚ùå **–ú–æ–∫–∏–Ω–≥ ‚Äì –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äì –æ–Ω –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∞ —Ç–æ–ª—å–∫–æ –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ.  
‚ùå **–ü—Ä–æ–±–ª–µ–º—ã —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å—é** ‚Äì Moq –∏ NSubstitute –º–æ–≥—É—Ç –¥–∞–≤–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å `async/await`.

---

### **–í—ã–≤–æ–¥**

‚úî **Moq** ‚Äì —Ö–æ—Ä–æ—à –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –º–æ–∫–æ–≤ –∏ —Å—Ç—Ä–æ–≥–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.  
‚úî **NSubstitute** ‚Äì —É–¥–æ–±–µ–Ω, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ª–∞–∫–æ–Ω–∏—á–Ω–æ—Å—Ç—å.  
‚úî **–ù–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π –º–æ–∫–∞–º–∏** ‚Äì –∏–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ —Ç–µ—Å—Ç–∞—Ö.


