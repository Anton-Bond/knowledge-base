Encapsulation (Инкапсуляция)

**Сокрытие данных от прямого доступа извне и предоставление методов для их безопасного изменения.**

- Использование модификаторов доступа (`private`, `protected`, `public`, `internal`).
- Свойства (`get` и `set`) для управления доступом к полям класса.

``` C#
public class BankAccount
{
    private decimal balance;

    public decimal Balance
    {
        get { return balance; }
        private set { balance = value; }
    }

    public void Deposit(decimal amount)
    {
        if (amount > 0)
        {
            balance += amount;
        }
    }
}
```

#### Вопросы:

1. Что такое инкапсуляция?  
    **Ответ:** Инкапсуляция — это механизм сокрытия данных от прямого доступа извне и предоставления методов для их управления.
    
2. Зачем нужна инкапсуляция?  
    **Ответ:** Для обеспечения безопасности данных и управления доступом к ним.
    
3. Какие модификаторы доступа используются для инкапсуляции в C#?  
    **Ответ:** `private`, `protected`, `public`, `internal`, `protected internal`.
    
4. Чем отличается поле от свойства?  
    **Ответ:** Поле напрямую хранит данные, а свойство предоставляет доступ к ним через методы `get` и `set`.
    
5. Можно ли использовать только метод `get` без `set` в свойствах?  
    **Ответ:** Да, это создаёт свойство только для чтения.
    
6. Что такое автоматические свойства?  
    **Ответ:** Свойства, где `get` и `set` генерируются автоматически, например:
    
```C#
public string Name { get; set; }   
```
    
7. Чем отличается `private` от `protected`?  
    **Ответ:** `private` доступен только внутри текущего класса, а `protected` — ещё и в производных классах.
    
8. Как скрыть реализацию метода от пользователя?  
    **Ответ:** С помощью `private` методов или инкапсуляции логики в свойствах.
    
9. Почему использование свойств предпочтительнее прямого использования полей?  
    **Ответ:** Свойства позволяют добавить логику для управления доступом и изменением данных.
    
10. Можно ли сделать свойство неизменяемым?  
    **Ответ:** Да, используя только метод `get` или сделав метод `set` `private`.
    
11. Как инкапсуляция повышает модульность кода?  
    **Ответ:** Она изолирует логику внутри класса, что упрощает изменения и тестирование.
    
12. Пример использования метода для проверки значений перед присвоением.  
    **Ответ:**
    
    `public void SetAge(int age) {     if (age > 0)         this.age = age; }`
    
13. Что произойдёт, если в свойстве указать только `get`?  
    **Ответ:** Данные можно будет только читать, но нельзя изменять.
    
14. Как инкапсуляция помогает в поддержке кода?  
    **Ответ:** Она упрощает обновление, позволяя изменять реализацию, не затрагивая внешний код.
    
15. Можно ли инкапсулировать класс внутри другого класса?  
    **Ответ:** Да, с помощью вложенных классов.
    
16. Можно ли использовать свойства для вычисляемых значений?  
    **Ответ:** Да, свойства могут содержать логику вычисления.
    
17. Как защищают данные в многопоточных приложениях?  
    **Ответ:** С помощью синхронизации (`lock`) внутри методов доступа.
    
18. Какие риски возникают при прямом доступе к полям класса?  
    **Ответ:** Возможны некорректные изменения данных, что может привести к ошибкам.
    
19. Как инкапсуляция связана с принципом DRY (Don’t Repeat Yourself)?  
    **Ответ:** Логика для управления данными сосредоточена в одном месте, что уменьшает дублирование.
    
20. Какие проблемы могут возникнуть при неправильной инкапсуляции?  
    **Ответ:** Утечка реализации, снижение безопасности данных.