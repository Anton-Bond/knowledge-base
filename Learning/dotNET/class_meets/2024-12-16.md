ассинхр прогр
что подразумевает?

 1) выполнение ас кода
 2) внутр устрово

типы релиз ас-ти?

их три:
1 иветбайзасинопаттерн (по сути это события): EAP (Event-based Asynchronous Pattern) - устаревший
2  1. APM (Asynchronous Programming Model) — основан на 2 методах. Метод BeginSmth возвращает интерфейс IAsyncResult. Метод EndSmth принимает IAsyncResult (если к моменту вызова EndSmth операция не завершена, поток блокируется) ((методы бегин сомсинг. енд сомсинг) - устаревший
3  TAP (Task-based Asynchronous Pattern)

возвращ: Task, void (not recomend), ... Generic Task
async\await
sufix 'asyn' for methods,

объект задачи - ?

INotifyCompletion

![[Pasted image 20241216121623.png]]

![[Pasted image 20241216121658.png]]





![[Pasted image 20241216121842.png]]

![[Pasted image 20241216122411.png]]

очереди, потоки, ... ????

машинa состояний???

```
**public** **static** **async** **Task** Delays()

{

Console.WriteLine(1);

**await** **Task**.Delay(1000);

Console.WriteLine(2);

**await** **Task**.Delay(1000);

Console.WriteLine(3);

**await** **Task**.Delay(1000);

Console.WriteLine(4);

**await** **Task**.Delay(1000);

Console.WriteLine(5);

**await** **Task**.Delay(1000);

}
```

```
[AsyncStateMachine(**typeof**(DelaysStateMachine))]

[DebuggerStepThrough]

**public** **Task** Delays()

{

DelaysStateMachine stateMachine = **new** DelaysStateMachine();

stateMachine.taskMethodBuilder = AsyncTaskMethodBuilder.Create();

stateMachine.currentState = -1;

AsyncTaskMethodBuilder builder = stateMachine.taskMethodBuilder;

taskMethodBuilder.Start(**ref** stateMachine);

**return** stateMachine.taskMethodBuilder.**Task**;

}
```

машина конечных состояния, как она генерируяестя
нужно понимать стоимость каждого async/await

что происходит внутри самих асинхр задачах

корни асинхронности
Task.Run, new Task(..).Start(), Factory.StartNew

TaskCompletionSource
(ожидание ответа от юзера после открыитя модалки)

Task.WhenAny(..)

Task.WhenAll(..)

`Task.FromResult<T>(T value)`

ConfigureAwait(false).

Обработка ошибок

try/catch

